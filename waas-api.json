{"openapi":"3.0.1","info":{"title":"Profee WaaS integration API","description":"<h3>Profee wallet-as-a-service API will let you to embed financial services along with your core products. <br/>With a single integration, enable your customers to hold funds, purchase everywhere with attached card and manage cash flow.</h3>","license":{"name":"Profee","url":"http://profee.com"},"version":"v0.0.1"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/wallet/upgrade-wallet":{"post":{"tags":["Wallets"],"summary":"Upgrade wallet to next verification level","description":"Повышение уровня увеличивает лимиты кошелька","operationId":"upgradeWallet","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerUpgradeKycLevelRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerWalletDto"}}}}}}},"/wallet/update-email":{"post":{"tags":["Wallets"],"summary":"Update wallet E-Mail","description":"Верификация e-mail требуется для повышения уровня кошелька. <br/>Если на момент регистрации нового пользователя e-mail не был подтвержден, для сообщения о верификации можно использовать этот запрос","operationId":"updateEmail","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerUpdateEmailRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerWalletDto"}}}}}}},"/wallet/get-wallet":{"post":{"tags":["Wallets"],"summary":"Get wallet","description":"Получение балансов, актуальных лимитов и статуса кошелька","operationId":"getWallet","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerGetWalletRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerWalletDto"}}}}}}},"/wallet/create-wallet":{"post":{"tags":["Wallets"],"summary":"Create wallet","description":"Создание кошелька. Содержит все необходимые данные для регистрации нового кошелька.","operationId":"createWallet","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerCreateWalletRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerWalletDto"}}}}}}},"/settings/payment-methods":{"post":{"tags":["Payments"],"summary":"Get payment methods","description":"Все возможные варианты операций в Профи описываются платежными методами. Запрос позволяет получить доступные платежные методы.","operationId":"getAvailablePaymentMethods","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerListPaymentMethodDto"}}}}}}},"/payments/create-payment":{"post":{"tags":["Payments"],"summary":"Create payment","description":"Создание платежа по предварительно размещенному ордеру","operationId":"createPayment","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerCreatePaymentRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerPaymentDto"}}}}}}},"/payments/create-payment-order":{"post":{"tags":["Payments"],"summary":"Create payment order","description":"Создание order на проведение платежа. Проверяет возможность проведения: балансы и лимиты, доступность кошелька. Рассчитывает комиссии.","operationId":"createPaymentOrder","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerCreatePaymentOrderRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerPaymentOrderDto"}}}}}}},"/card/get-card":{"post":{"tags":["Cards"],"summary":"Get Profee card information","description":"Получить данные карты: имя владельца, статус, валюту. Номер кошелька к которому привязана карта и ID платежного продукта","operationId":"getCard","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerProfee Card Information Request"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerProfee Card"}}}}}}},"/card/get-card-tokens":{"post":{"tags":["Cards"],"summary":"Get card tokens","description":"После пополнения кошелька профи с банковской карты, данные карты сохраняются в виде токена. <br/>Токен можно использовать для последующих операций пополнения кошелька и вывода на карту. Запрос позволяет получить все токены, привязанные к кошельку","operationId":"getCardTokens","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerCard Tokens Request"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerCard Tokens"}}}}}}},"/card/get-card-pan":{"post":{"tags":["Cards"],"summary":"Get Profee card PAN and expiration date. May be unavailable due to PSI DSS compliance","description":"Get Profee card PAN and expiration date. May be unavailable due to PSI DSS compliance","operationId":"getCardPan","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerProfee Card PAN And Expiration Date Request"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerProfee Card PAN And Expiration Date"}}}}}}},"/card/get-card-operations":{"post":{"tags":["Cards"],"summary":"Get Profee card operation history","description":"Получить данные о последних операциях по карте","operationId":"getCardOperations","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerProfee Card Operations"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerCardOperationsDto"}}}}}}},"/card/get-card-cvv":{"post":{"tags":["Cards"],"summary":"Get Profee card cvv. May be unavailable due to PSI DSS compliance","description":"Get Profee card cvv. May be unavailable due to PSI DSS compliance","operationId":"getCardCvv","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerProfee Card Cvv Request"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerProfee Card Cvv"}}}}}}},"/card/get-card-balance":{"post":{"tags":["Cards"],"summary":"Get Profee card balance","description":"Получить баланс карты","operationId":"getCardBalance","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerProfee Card Balance Request"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerProfee Card Balance"}}}}}}},"/card/create-card":{"post":{"tags":["Cards"],"summary":"Create Profee card","description":"Выпустить карту профи. У пользователя может быть только одна такая карта","operationId":"createCard","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerCreate Profee Card"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerProfee Card"}}}}}}}},"components":{"schemas":{"ApiRequestContainerUpgradeKycLevelRequestDto":{"type":"object","properties":{"request":{"$ref":"#/components/schemas/UpgradeKycLevelRequestDto"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"UpgradeKycLevelRequestDto":{"required":["documentSubType","documentType","walletId"],"type":"object","properties":{"documentType":{"type":"string","description":"Personal document type","enum":["ID_CARD","PASSPORT","DRIVERS","BANK_CARD","UTILITY_BILL","BANK_STATEMENT","SELFIE","VIDEO_SELFIE","PROFILE_IMAGE","ID_DOC_PHOTO","AGREEMENT","CONTRACT","RESIDENCE_PERMIT","EMPLOYMENT_CERTIFICATE","DRIVERS_TRANSLATION","INVESTOR_DOC","VEHICLE_REGISTRATION_CERTIFICATE","INCOME_SOURCE","PAYMENT_METHOD","OTHER"]},"documentSubType":{"type":"string","description":"Personal document sub-type","enum":["FRONT_SIDE","BACK_SIDE"]},"countryCode":{"maxLength":3,"minLength":0,"type":"string","description":"3-letter country code"},"firstName":{"type":"string","description":"First name"},"middleName":{"type":"string","description":"Middle name"},"lastName":{"type":"string","description":"Last name"},"issuedDate":{"type":"string","description":"Issued date (format YYYY-mm-dd, e.g. 2001-09-25)","format":"date"},"validUntil":{"type":"string","description":"Valid until date (format YYYY-mm-dd, e.g. 2001-09-26)","format":"date"},"number":{"type":"string","description":"Document number"},"dateDfBirth":{"type":"string","description":"Date of birth (format YYYY-mm-dd, e.g. 2001-09-27)"},"placeOfBirth":{"type":"string","description":"Place of birth"},"documentContent":{"type":"string","description":"Personal document content (Base64 encoded file image content)"},"walletId":{"type":"string","description":"User's Wallet ID"}},"description":"Request model to Upgrade User's wallet"},"ApiResponseContainerWalletDto":{"type":"object","properties":{"response":{"$ref":"#/components/schemas/WalletDto"},"status":{"$ref":"#/components/schemas/ResponseStatus"},"signature":{"type":"string","description":"Signature of response content"}},"description":"Response wrapper"},"ResponseStatus":{"type":"object","properties":{"code":{"type":"string","description":"Response code (for machine)"},"message":{"type":"string","description":"Response message (for developer)"}},"description":"Response status"},"WalletDto":{"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"}},"description":"Wallet information"},"ApiRequestContainerUpdateEmailRequestDto":{"type":"object","properties":{"request":{"$ref":"#/components/schemas/UpdateEmailRequestDto"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"UpdateEmailRequestDto":{"required":["email","emailVerified","walletId"],"type":"object","properties":{"email":{"type":"string","description":"New User's E-Mail"},"emailVerified":{"type":"boolean","description":"Is User's E-Mail verified?"},"walletId":{"type":"string","description":"User's Wallet ID"}},"description":"Request to update User's E-Mail"},"ApiRequestContainerGetWalletRequestDto":{"type":"object","properties":{"request":{"$ref":"#/components/schemas/GetWalletRequestDto"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"GetWalletRequestDto":{"required":["walletId"],"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"}},"description":"Request model to Get Wallet"},"ApiRequestContainerCreateWalletRequestDto":{"type":"object","properties":{"request":{"$ref":"#/components/schemas/CreateWalletRequestDto"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"CreateWalletRequestDto":{"required":["citizenship","dateOfBirth","email","emailVerified","externalId","firstName","lastName","phone","residentialAddress"],"type":"object","properties":{"phone":{"type":"string","description":"User's phone number (must be verified before performing request)"},"email":{"type":"string","description":"User's email"},"emailVerified":{"type":"boolean","description":"Is User's E-Mail verified?"},"firstName":{"type":"string","description":"User's first name"},"lastName":{"type":"string","description":"User's last name"},"dateOfBirth":{"pattern":"yyyy-MM-dd","type":"string","description":"User's date of birth","format":"date"},"citizenship":{"type":"string","description":"User's citizenship"},"residentialAddress":{"type":"string","description":"User's residential address"},"externalId":{"type":"string","description":"External ID - Wallet ID in Merchant system"}},"description":"Request model to Create Wallet"},"ApiResponseContainerListPaymentMethodDto":{"type":"object","properties":{"response":{"type":"array","description":"Response content","items":{"$ref":"#/components/schemas/PaymentMethodDto"}},"status":{"$ref":"#/components/schemas/ResponseStatus"},"signature":{"type":"string","description":"Signature of response content"}},"description":"Response wrapper"},"PaymentMethodDto":{"type":"object","description":"Response content"},"ApiRequestContainerCreatePaymentRequestDto":{"type":"object","properties":{"request":{"$ref":"#/components/schemas/CreatePaymentRequestDto"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"CreatePaymentRequestDto":{"required":["externalId","paymentOrderId"],"type":"object","properties":{"externalId":{"type":"string","description":"External ID - Payment ID in Merchant system"},"paymentOrderId":{"type":"string","description":"Payment order ID obtained from Create payment order request"}},"description":"Request model to Create payment"},"ApiResponseContainerPaymentDto":{"type":"object","properties":{"response":{"$ref":"#/components/schemas/PaymentDto"},"status":{"$ref":"#/components/schemas/ResponseStatus"},"signature":{"type":"string","description":"Signature of response content"}},"description":"Response wrapper"},"PaymentDto":{"type":"object","properties":{"paymentId":{"type":"string","description":"Payment ID"},"paymentOrderId":{"type":"string","description":"Payment order ID used while creating Payment"},"walletId":{"type":"string","description":"User's Wallet ID"}},"description":"Payment model"},"ApiRequestContainerCreatePaymentOrderRequestDto":{"type":"object","properties":{"request":{"$ref":"#/components/schemas/CreatePaymentOrderRequestDto"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"CreatePaymentOrderRequestDto":{"required":["externalId","from","paymentMethodId","to","walletId"],"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"},"paymentMethodId":{"type":"string","description":"Payment method ID"},"from":{"$ref":"#/components/schemas/LegDto"},"to":{"$ref":"#/components/schemas/LegDto"},"externalId":{"type":"string","description":"External ID - Operation ID in Merchant system"}},"description":"Request model to Create Payment order"},"LegDto":{"type":"object","properties":{"accountId":{"type":"string","description":"User account ID"},"name":{"type":"string","description":"???"},"sum":{"$ref":"#/components/schemas/Money"}},"description":"Side of Payment"},"Money":{"type":"object","properties":{"amount":{"type":"number","description":"Amount of money"},"currency":{"type":"string","description":"Currency of money"}},"description":"Amount and currency"},"ApiResponseContainerPaymentOrderDto":{"type":"object","properties":{"response":{"$ref":"#/components/schemas/PaymentOrderDto"},"status":{"$ref":"#/components/schemas/ResponseStatus"},"signature":{"type":"string","description":"Signature of response content"}},"description":"Response wrapper"},"PaymentOrderDto":{"type":"object","properties":{"paymentOrderId":{"type":"string","description":"Payment order ID"},"walletId":{"type":"string","description":"User's Wallet ID"},"paymentMethodId":{"type":"string","description":"Payment method ID"},"from":{"$ref":"#/components/schemas/LegDto"},"to":{"$ref":"#/components/schemas/LegDto"},"fee":{"$ref":"#/components/schemas/Money"},"externalId":{"type":"string","description":"External ID - Operation ID in Merchant system"}},"description":"Payment order"},"ApiRequestContainerProfee Card Information Request":{"type":"object","properties":{"request":{"$ref":"#/components/schemas/Profee card information request"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"Profee card information request":{"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"},"cardId":{"type":"string","description":"Profee card ID"}},"description":"Request model to get Profee card information"},"ApiResponseContainerProfee Card":{"type":"object","properties":{"response":{"$ref":"#/components/schemas/Profee card"},"status":{"$ref":"#/components/schemas/ResponseStatus"},"signature":{"type":"string","description":"Signature of response content"}},"description":"Response wrapper"},"Profee card":{"type":"object","properties":{"currency":{"type":"string","description":"Profee card currency"},"walletId":{"type":"string","description":"User's Wallet ID"},"cardId":{"type":"string","description":"Profee card ID"}},"description":"Model Profee card"},"ApiRequestContainerCard Tokens Request":{"type":"object","properties":{"request":{"$ref":"#/components/schemas/Card tokens request"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"Card tokens request":{"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"}},"description":"Model card tokens"},"ApiResponseContainerCard Tokens":{"type":"object","properties":{"response":{"$ref":"#/components/schemas/Card tokens"},"status":{"$ref":"#/components/schemas/ResponseStatus"},"signature":{"type":"string","description":"Signature of response content"}},"description":"Response wrapper"},"Card tokens":{"type":"object","properties":{"tokens":{"type":"array","description":"External card tokens","items":{"$ref":"#/components/schemas/Сard token request"}}},"description":"List of card tokens"},"Сard token request":{"type":"object","properties":{"cardholder":{"type":"string","description":"Cardholder"},"paymentSystem":{"type":"string","description":"Card payment system","enum":["VISA","MASTERCARD"]},"cardStatus":{"type":"string","description":"Card status","enum":["ISSUED","FROZEN"]},"token":{"type":"string","description":"Card token"},"PAN":{"type":"string","description":"Masked PAN"}},"description":"Сard token"},"ApiRequestContainerProfee Card PAN And Expiration Date Request":{"type":"object","properties":{"request":{"$ref":"#/components/schemas/Profee card PAN and expiration date request"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"Profee card PAN and expiration date request":{"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"},"cardId":{"type":"string","description":"Profee card ID"}},"description":"Model Profee card PAN and expiration date"},"ApiResponseContainerProfee Card PAN And Expiration Date":{"type":"object","properties":{"response":{"$ref":"#/components/schemas/Profee card PAN and expiration date"},"status":{"$ref":"#/components/schemas/ResponseStatus"},"signature":{"type":"string","description":"Signature of response content"}},"description":"Response wrapper"},"Profee card PAN and expiration date":{"type":"object","properties":{"pan":{"type":"string","description":"Profee card PAN"}},"description":"Model Profee card PAN and expiration date. May be unavailable due to PSI DSS compliance"},"ApiRequestContainerProfee Card Operations":{"type":"object","properties":{"request":{"$ref":"#/components/schemas/Profee card operations"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"Profee card operations":{"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"},"cardId":{"type":"string","description":"Profee card ID"}},"description":"Model Profee card operations history"},"ApiResponseContainerCardOperationsDto":{"type":"object","properties":{"response":{"$ref":"#/components/schemas/CardOperationsDto"},"status":{"$ref":"#/components/schemas/ResponseStatus"},"signature":{"type":"string","description":"Signature of response content"}},"description":"Response wrapper"},"CardOperationsDto":{"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"},"cardId":{"type":"string","description":"Profee card ID"}},"description":"Model Profee card operations history"},"ApiRequestContainerProfee Card Cvv Request":{"type":"object","properties":{"request":{"$ref":"#/components/schemas/Profee card cvv request"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"Profee card cvv request":{"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"},"cardId":{"type":"string","description":"Profee card ID"}},"description":"Model Profee card cvv"},"ApiResponseContainerProfee Card Cvv":{"type":"object","properties":{"response":{"$ref":"#/components/schemas/Profee card cvv"},"status":{"$ref":"#/components/schemas/ResponseStatus"},"signature":{"type":"string","description":"Signature of response content"}},"description":"Response wrapper"},"Profee card cvv":{"type":"object","description":"Model Profee card cvv. May be unavailable due to PSI DSS compliance"},"ApiRequestContainerProfee Card Balance Request":{"type":"object","properties":{"request":{"$ref":"#/components/schemas/Profee card balance request"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"Profee card balance request":{"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"},"cardId":{"type":"string","description":"Profee card ID"}},"description":"Request to get Profee card balance"},"ApiResponseContainerProfee Card Balance":{"type":"object","properties":{"response":{"$ref":"#/components/schemas/Profee card balance"},"status":{"$ref":"#/components/schemas/ResponseStatus"},"signature":{"type":"string","description":"Signature of response content"}},"description":"Response wrapper"},"Profee card balance":{"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"},"cardId":{"type":"string","description":"Profee card ID"}},"description":"Model Profee card balance"},"ApiRequestContainerCreate Profee Card":{"type":"object","properties":{"request":{"$ref":"#/components/schemas/Create Profee card"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"Create Profee card":{"type":"object","properties":{"productCode":{"type":"string","description":"Profee payment product ID"},"walletId":{"type":"string","description":"User's Wallet ID"}},"description":"Request model to create Profee card"}}}}