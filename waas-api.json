{"openapi":"3.0.3","info":{"title":"Api Documentation","description":"Api Documentation","termsOfService":"urn:tos","contact":{},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"},"version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Inferred Url"}],"tags":[{"name":"Merchants","description":"Payment Method Controller Impl"},{"name":"Payment orders","description":"Payment Order Controller Impl"},{"name":"Payments","description":"Payment Controller Impl"},{"name":"Wallets","description":"Wallet Controller Impl"},{"name":"basic-error-controller","description":"Basic Error Controller"}],"paths":{"/error":{"get":{"tags":["basic-error-controller"],"summary":"error","operationId":"errorUsingGET","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"put":{"tags":["basic-error-controller"],"summary":"error","operationId":"errorUsingPUT","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"post":{"tags":["basic-error-controller"],"summary":"error","operationId":"errorUsingPOST","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"delete":{"tags":["basic-error-controller"],"summary":"error","operationId":"errorUsingDELETE","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}}},"options":{"tags":["basic-error-controller"],"summary":"error","operationId":"errorUsingOPTIONS","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}}},"head":{"tags":["basic-error-controller"],"summary":"error","operationId":"errorUsingHEAD","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}}},"patch":{"tags":["basic-error-controller"],"summary":"error","operationId":"errorUsingPATCH","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}}},"trace":{"tags":["basic-error-controller"],"summary":"error","operationId":"errorUsingTRACE","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}}}},"/createPayment":{"post":{"tags":["Payments"],"summary":"Create payment","operationId":"createPaymentUsingPOST","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Request model to Create payment"}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response wrapper«Payment model»"}}}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/settings/payment-methods":{"get":{"tags":["Merchants"],"summary":"Get available payment methods","operationId":"getAvailablePaymentMethodsUsingGET","parameters":[{"name":"X-Merchant-Id","in":"header","description":"X-Merchant-Id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response wrapper«List«PaymentMethod»»"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/createPaymentOrder":{"post":{"tags":["Payment orders"],"summary":"Create payment order","operationId":"createPaymentOrderUsingPOST","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Request model to Create Payment order"}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response wrapper«Payment order»"}}}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/wallets":{"post":{"tags":["Wallets"],"summary":"Create wallet","operationId":"createWalletUsingPOST","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Request model to Create Wallet"}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response wrapper«Wallet information»"}}}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/wallets/{walletId}":{"get":{"tags":["Wallets"],"summary":"Get wallet","operationId":"getWalletUsingGET","parameters":[{"name":"walletId","in":"path","description":"walletId","required":true,"style":"simple","schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response wrapper«Wallet information»"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/wallets/{walletId}/updateEmail":{"put":{"tags":["Wallets"],"summary":"Update wallet E-Mail","operationId":"updateEmailUsingPUT","parameters":[{"name":"walletId","in":"path","description":"walletId","required":true,"style":"simple","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Request model to Update User's EMail"}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response wrapper«Wallet information»"}}}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/wallets/{walletId}/upgradeWallet":{"post":{"tags":["Wallets"],"summary":"Upgrade wallet to next verification level","operationId":"upgradeWalletUsingPOST","parameters":[{"name":"walletId","in":"path","description":"walletId","required":true,"style":"simple","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Request model to Upgrade User's wallet"}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response wrapper«Wallet information»"}}}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}}},"components":{"schemas":{"Balance":{"title":"Balance","required":["money"],"type":"object","properties":{"money":{"description":"Sum","$ref":"#/components/schemas/Money"}}},"Limit information":{"title":"Limit information","required":["sum","type"],"type":"object","properties":{"sum":{"description":"Sum","$ref":"#/components/schemas/Money"},"type":{"type":"string","description":"Limit type","enum":["DAY","YEAR"]}}},"ModelAndView":{"title":"ModelAndView","type":"object","properties":{"empty":{"type":"boolean"},"model":{"type":"object"},"modelMap":{"type":"object","additionalProperties":{"type":"object"}},"reference":{"type":"boolean"},"status":{"type":"string","enum":["ACCEPTED","ALREADY_REPORTED","BAD_GATEWAY","BAD_REQUEST","BANDWIDTH_LIMIT_EXCEEDED","CHECKPOINT","CONFLICT","CONTINUE","CREATED","DESTINATION_LOCKED","EXPECTATION_FAILED","FAILED_DEPENDENCY","FORBIDDEN","FOUND","GATEWAY_TIMEOUT","GONE","HTTP_VERSION_NOT_SUPPORTED","IM_USED","INSUFFICIENT_SPACE_ON_RESOURCE","INSUFFICIENT_STORAGE","INTERNAL_SERVER_ERROR","I_AM_A_TEAPOT","LENGTH_REQUIRED","LOCKED","LOOP_DETECTED","METHOD_FAILURE","METHOD_NOT_ALLOWED","MOVED_PERMANENTLY","MOVED_TEMPORARILY","MULTIPLE_CHOICES","MULTI_STATUS","NETWORK_AUTHENTICATION_REQUIRED","NON_AUTHORITATIVE_INFORMATION","NOT_ACCEPTABLE","NOT_EXTENDED","NOT_FOUND","NOT_IMPLEMENTED","NOT_MODIFIED","NO_CONTENT","OK","PARTIAL_CONTENT","PAYLOAD_TOO_LARGE","PAYMENT_REQUIRED","PERMANENT_REDIRECT","PRECONDITION_FAILED","PRECONDITION_REQUIRED","PROCESSING","PROXY_AUTHENTICATION_REQUIRED","REQUESTED_RANGE_NOT_SATISFIABLE","REQUEST_ENTITY_TOO_LARGE","REQUEST_HEADER_FIELDS_TOO_LARGE","REQUEST_TIMEOUT","REQUEST_URI_TOO_LONG","RESET_CONTENT","SEE_OTHER","SERVICE_UNAVAILABLE","SWITCHING_PROTOCOLS","TEMPORARY_REDIRECT","TOO_EARLY","TOO_MANY_REQUESTS","UNAUTHORIZED","UNAVAILABLE_FOR_LEGAL_REASONS","UNPROCESSABLE_ENTITY","UNSUPPORTED_MEDIA_TYPE","UPGRADE_REQUIRED","URI_TOO_LONG","USE_PROXY","VARIANT_ALSO_NEGOTIATES"]},"view":{"$ref":"#/components/schemas/View"},"viewName":{"type":"string"}}},"Money":{"title":"Money","required":["amount","currency"],"type":"object","properties":{"amount":{"type":"number","description":"Amount","format":"bigdecimal"},"currency":{"type":"number","description":"Currency","format":"bigdecimal"}}},"Payment model":{"title":"Payment model","required":["externalId","fee","from","paymentId","paymentOrderId","status","to","walletId"],"type":"object","properties":{"externalId":{"type":"string","description":"Payment ID in Merchant System"},"fee":{"description":"Fee of operation","$ref":"#/components/schemas/Money"},"from":{"description":"From (left) Side of Payment","$ref":"#/components/schemas/Side of Payment"},"paymentId":{"type":"string","description":"Payment ID"},"paymentOrderId":{"type":"string","description":"Payment order ID used while creating Payment"},"status":{"type":"string","description":"Payment status","enum":["CONFIRMATION_REQUIRED","ERROR","IN_PROGRESS","SUCCESS"]},"to":{"description":"To (right) Side of Payment","$ref":"#/components/schemas/Side of Payment"},"walletId":{"type":"string","description":"ID of Profee user wallet"}}},"Payment order":{"title":"Payment order","required":["externalId","fee","from","paymentMethodId","paymentOrderId","to","walletId"],"type":"object","properties":{"externalId":{"type":"string","description":"External ID of Merchant operation"},"fee":{"description":"Fee of future payment","$ref":"#/components/schemas/Money"},"from":{"description":"From (left) side of future payment","$ref":"#/components/schemas/Side of Payment"},"paymentMethodId":{"type":"string","description":"Payment method ID"},"paymentOrderId":{"type":"string","description":"Payment order ID"},"to":{"description":"To (right) side of future payment","$ref":"#/components/schemas/Side of Payment"},"walletId":{"type":"string","description":"User's Wallet ID"}}},"PaymentMethod":{"title":"PaymentMethod","type":"object"},"Request model to Create Payment order":{"title":"Request model to Create Payment order","required":["externalId","from","paymentMethodId","to","walletId"],"type":"object","properties":{"externalId":{"type":"string","description":"External ID - Operation ID in Merchant system"},"from":{"description":"From (left) side of future payment","$ref":"#/components/schemas/Side of Payment"},"paymentMethodId":{"type":"string","description":"Payment method ID"},"to":{"description":"To (left) side fo future payment","$ref":"#/components/schemas/Side of Payment"},"walletId":{"type":"string","description":"User's Wallet ID"}}},"Request model to Create Wallet":{"title":"Request model to Create Wallet","required":["citizenship","dateOfBirth","email","emailVerified","externalId","firstName","lastName","phone","residentialAddress"],"type":"object","properties":{"citizenship":{"type":"string","description":"User's citizenship"},"dateOfBirth":{"type":"string","description":"User's date of birth"},"email":{"type":"string","description":"User's email"},"emailVerified":{"type":"boolean","description":"Is user's email verified?","example":false},"externalId":{"type":"string","description":"External ID - Wallet ID in Merchant system"},"firstName":{"type":"string","description":"User's first name"},"lastName":{"type":"string","description":"User's last name"},"phone":{"type":"string","description":"User's phone number (must be verified before performing request)"},"residentialAddress":{"type":"string","description":"User's residential address"}}},"Request model to Create payment":{"title":"Request model to Create payment","required":["externalId","paymentOrderId"],"type":"object","properties":{"externalId":{"type":"string","description":"External ID - Payment ID in Merchant system"},"paymentOrderId":{"type":"string","description":"Payment order ID obtained from Create payment order request"}}},"Request model to Update User's EMail":{"title":"Request model to Update User's EMail","required":["email","emailVerified","walletId"],"type":"object","properties":{"email":{"type":"string","description":"User's EMail"},"emailVerified":{"type":"boolean","description":"Is User's EMail verified","example":false},"walletId":{"type":"string","description":"User's Wallet ID"}}},"Request model to Upgrade User's wallet":{"title":"Request model to Upgrade User's wallet","required":["documentContent","documentSubType","documentType","walletId"],"type":"object","properties":{"countryCode":{"maxLength":3,"minLength":0,"type":"string","description":"3-letter country code"},"dateDfBirth":{"type":"string","description":"Date of birth (format YYYY-mm-dd, e.g. 2001-09-27)"},"documentContent":{"type":"string","description":"Personal document content (Base64 encoded file image content)"},"documentSubType":{"type":"string","description":"Personal document sub-type","enum":["BACK_SIDE","FRONT_SIDE"]},"documentType":{"type":"string","description":"Personal document type","enum":["AGREEMENT","BANK_CARD","BANK_STATEMENT","CONTRACT","DRIVERS","DRIVERS_TRANSLATION","EMPLOYMENT_CERTIFICATE","ID_CARD","ID_DOC_PHOTO","INCOME_SOURCE","INVESTOR_DOC","OTHER","PASSPORT","PAYMENT_METHOD","PROFILE_IMAGE","RESIDENCE_PERMIT","SELFIE","UTILITY_BILL","VEHICLE_REGISTRATION_CERTIFICATE","VIDEO_SELFIE"]},"firstName":{"type":"string","description":"First name"},"issuedDate":{"type":"string","description":"Issued date (format YYYY-mm-dd, e.g. 2001-09-25)","format":"date"},"lastName":{"type":"string","description":"Last name"},"middleName":{"type":"string","description":"Middle name"},"number":{"type":"string","description":"Document number"},"placeOfBirth":{"type":"string","description":"Place of birth"},"validUntil":{"type":"string","description":"Valid until date (format YYYY-mm-dd, e.g. 2001-09-26)","format":"date"},"walletId":{"type":"string","description":"User's Wallet ID"}}},"Response wrapper«List«PaymentMethod»»":{"title":"Response wrapper«List«PaymentMethod»»","required":["response","signature","status"],"type":"object","properties":{"response":{"type":"array","description":"Response content","items":{"$ref":"#/components/schemas/PaymentMethod"}},"signature":{"type":"string","description":"Signature of response content"},"status":{"description":"Response status","$ref":"#/components/schemas/Status of Response"}}},"Response wrapper«Payment model»":{"title":"Response wrapper«Payment model»","required":["response","signature","status"],"type":"object","properties":{"response":{"description":"Response content","$ref":"#/components/schemas/Payment model"},"signature":{"type":"string","description":"Signature of response content"},"status":{"description":"Response status","$ref":"#/components/schemas/Status of Response"}}},"Response wrapper«Payment order»":{"title":"Response wrapper«Payment order»","required":["response","signature","status"],"type":"object","properties":{"response":{"description":"Response content","$ref":"#/components/schemas/Payment order"},"signature":{"type":"string","description":"Signature of response content"},"status":{"description":"Response status","$ref":"#/components/schemas/Status of Response"}}},"Response wrapper«Wallet information»":{"title":"Response wrapper«Wallet information»","required":["response","signature","status"],"type":"object","properties":{"response":{"description":"Response content","$ref":"#/components/schemas/Wallet information"},"signature":{"type":"string","description":"Signature of response content"},"status":{"description":"Response status","$ref":"#/components/schemas/Status of Response"}}},"Side of Payment":{"title":"Side of Payment","required":["accountId","money","name"],"type":"object","properties":{"accountId":{"type":"string","description":"User account ID"},"money":{"description":"Sum","$ref":"#/components/schemas/Money"},"name":{"type":"string","description":"???"}}},"Status of Response":{"title":"Status of Response","type":"object"},"View":{"title":"View","type":"object","properties":{"contentType":{"type":"string"}}},"Wallet information":{"title":"Wallet information","required":["balances","externalId","limits","status","verificationLevel","walletId"],"type":"object","properties":{"balances":{"type":"array","description":"Balances in all available currencies","items":{"$ref":"#/components/schemas/Balance"}},"externalId":{"type":"string","description":"External ID - Wallet ID in Merchant system"},"limits":{"type":"array","description":"Limits information (in all available currencies)","items":{"$ref":"#/components/schemas/Limit information"}},"status":{"type":"string","description":"Wallet Status","enum":["ACTIVE","BLOCKED","LOCKED"]},"verificationLevel":{"type":"string","description":"User's Wallet verification level (KYC)","enum":["BASIC","PLUS","SUPER"]},"walletId":{"type":"string","description":"User's Wallet ID"}}}}}}